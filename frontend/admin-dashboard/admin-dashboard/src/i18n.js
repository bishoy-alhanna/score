import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Complete inline resources
const resources = {
  en: {
    translation: {
      common: {
        welcome: "Welcome",
        loading: "Loading...",
        error: "Error",
        success: "Success",
        save: "Save",
        cancel: "Cancel",
        delete: "Delete",
        edit: "Edit",
        add: "Add",
        search: "Search",
        filter: "Filter",
        refresh: "Refresh",
        settings: "Settings",
        profile: "Profile",
        logout: "Logout",
        language: "Language",
        name: "Name",
        email: "Email",
        actions: "Actions",
        status: "Status",
        active: "Active",
        inactive: "Inactive",
        selectRole: "Select role",
        selectCategory: "Select category",
        reasonForScore: "Reason for this score",
        enterQRCode: "Enter QR code data"
      },
      navigation: {
        dashboard: "Dashboard",
        users: "Users",
        groups: "Groups",
        leaderboards: "Leaderboards",
        analytics: "Analytics",
        reports: "Reports",
        settings: "Settings",
        home: "Home",
        joinRequests: "Join Requests",
        scoring: "Scoring",
        qrScanner: "QR Scanner"
      },
      sections: {
        groupsManagement: "Groups Management",
        scoringManagement: "Scoring Management",
        leaderboards: "Leaderboards",
        qrScannerQuickScoring: "QR Scanner & Quick Scoring"
      },
      dashboard: {
        title: "Admin Dashboard",
        overview: "Overview",
        statistics: "Statistics",
        recentActivity: "Recent Activity",
        quickActions: "Quick Actions"
      },
      users: {
        title: "User Management",
        addUser: "Add User",
        editUser: "Edit User",
        deleteUser: "Delete User",
        userList: "User List",
        userDetails: "User Details",
        firstName: "First Name",
        lastName: "Last Name",
        username: "Username",
        role: "Role",
        department: "Department",
        organization: "Organization",
        totalUsers: "Total Users",
        activeUsers: "Active Users"
      },
      groups: {
        title: "Group Management",
        addGroup: "Add Group",
        editGroup: "Edit Group",
        deleteGroup: "Delete Group",
        groupList: "Group List",
        groupDetails: "Group Details",
        groupName: "Group Name",
        members: "Members",
        leader: "Leader",
        totalGroups: "Total Groups"
      },
      leaderboards: {
        title: "Leaderboard Management",
        userLeaderboard: "User Leaderboard",
        groupLeaderboard: "Group Leaderboard",
        filterByCategory: "Filter by Category",
        allCategories: "All Categories",
        category: "Category",
        position: "Position",
        participant: "Participant",
        score: "Score",
        scores: "scores",
        members: "members",
        noData: "No leaderboard data available",
        loading: "Loading leaderboard...",
        noUsersFound: "No users found",
        noGroupsFound: "No groups found",
        topUsersRanked: "Top users ranked by total score",
        topGroupsRanked: "Top groups ranked by total score",
        acrossAllCategories: "across all categories",
        inCategory: "in the"
      },
      auth: {
        login: "Login",
        logout: "Logout",
        register: "Register",
        forgotPassword: "Forgot Password",
        resetPassword: "Reset Password",
        changePassword: "Change Password",
        currentPassword: "Current Password",
        newPassword: "New Password",
        confirmPassword: "Confirm Password",
        rememberMe: "Remember Me",
        loginSuccess: "Login successful",
        loginError: "Login failed",
        invalidCredentials: "Invalid credentials",
        required: "This field is required",
        password: "Password",
        username: "Username",
        continue: "Continue",
        back: "Back",
        signIn: "Sign In",
        signingIn: "Signing in...",
        checkingOrganizations: "Checking organizations...",
        enterUsername: "Enter your username to continue",
        selectOrganization: "Select your organization",
        usernameOrEmail: "Username or Email",
        enterUsernameOrEmail: "Enter your username or email",
        enterPassword: "Enter your password"
      },
      organizations: {
        title: "Organization Management",
        createOrganization: "Create Organization",
        joinOrganization: "Join Organization",
        organizationName: "Organization Name",
        description: "Description",
        creating: "Creating...",
        submitting: "Submitting...",
        submitJoinRequest: "Submit Join Request",
        requestedRole: "Requested Role",
        message: "Message",
        optionalMessage: "Message (Optional)",
        whyJoinQuestion: "Why do you want to join?",
        availableOrganizations: "Available Organizations",
        members: "members",
        member: "Member",
        pending: "Pending",
        requestJoin: "Request Join",
        joinRequestSubmitted: "Join request submitted successfully!",
        failedToCreateOrg: "Failed to create organization",
        failedToSubmitRequest: "Failed to submit join request",
        failedToFetchOrgs: "Failed to fetch organizations",
        noAdminPrivileges: "No admin privileges found for this username. You must be an organization administrator to access this dashboard.",
        youAreAdminOf: "You are an administrator of",
        organization: "organization",
        organizations: "organizations",
        pleaseSelectManage: "Please select which one you want to manage:",
        selectRole: "Select role",
        selectOrganization: "Select organization",
        backToUsername: "Back to Username",
        user: "User",
        admin: "Admin"
      },
      superAdmin: {
        title: "Super Admin Dashboard",
        totalUsers: "Total Users",
        totalOrganizations: "Total Organizations", 
        activeOrganizations: "Active Organizations",
        pendingRequests: "Pending Requests",
        dashboard: "Dashboard",
        organizations: "Organizations",
        requests: "Requests",
        users: "Users",
        createOrganization: "Create Organization",
        viewDetails: "View Details",
        approve: "Approve",
        reject: "Reject",
        toggleStatus: "Toggle Status",
        viewUser: "View User",
        deleteUser: "Delete User",
        confirmDelete: "Are you sure you want to delete this user?",
        userDeleted: "User deleted successfully",
        failedToDeleteUser: "Failed to delete user",
        failedToLoadDashboard: "Failed to load dashboard data",
        failedToLoadRequests: "Failed to load pending requests",
        failedToLoadUsers: "Failed to load users",
        failedToApproveRequest: "Failed to approve request",
        failedToRejectRequest: "Failed to reject request",
        failedToCreateOrg: "Failed to create organization",
        failedToUpdateStatus: "Failed to update organization status",
        adminUsername: "Admin Username",
        adminEmail: "Admin Email",
        adminPassword: "Admin Password",
        adminFirstName: "Admin First Name",
        adminLastName: "Admin Last Name",
        close: "Close"
      },
      scoring: {
        title: "Scoring",
        assignScore: "Assign Score",
        assignScoreTo: "Assign score to",
        assignScoresToUsers: "Assign scores to users or groups",
        scanUserFirst: "Scan a user first to assign scores",
        failedToAssignScore: "Failed to assign score",
        reason: "Reason",
        category: "Category",
        points: "Points",
        score: "Score",
        scoreCategory: "Score Category",
        selectCategory: "Select category"
      }
    }
  },
  ar: {
    translation: {
      common: {
        welcome: "مرحباً",
        loading: "جاري التحميل...",
        error: "خطأ",
        success: "نجح",
        save: "حفظ",
        cancel: "إلغاء",
        delete: "حذف",
        edit: "تعديل",
        add: "إضافة",
        search: "بحث",
        filter: "تصفية",
        refresh: "تحديث",
        settings: "الإعدادات",
        profile: "الملف الشخصي",
        logout: "تسجيل الخروج",
        language: "اللغة",
        name: "الاسم",
        email: "البريد الإلكتروني",
        actions: "الإجراءات",
        status: "الحالة",
        active: "نشط",
        inactive: "غير نشط",
        selectRole: "اختر الدور",
        selectCategory: "اختر الفئة",
        reasonForScore: "سبب هذه النتيجة",
        enterQRCode: "أدخل بيانات الرمز المربع"
      },
      navigation: {
        dashboard: "لوحة التحكم",
        users: "المستخدمون",
        groups: "المجموعات",
        leaderboards: "قوائم المتصدرين",
        analytics: "التحليلات",
        reports: "التقارير",
        settings: "الإعدادات",
        home: "الرئيسية",
        joinRequests: "طلبات الانضمام",
        scoring: "النقاط",
        qrScanner: "ماسح الرمز المربع"
      },
      sections: {
        groupsManagement: "إدارة المجموعات",
        scoringManagement: "إدارة النقاط",
        leaderboards: "قوائم المتصدرين",
        qrScannerQuickScoring: "ماسح الرمز المربع والنقاط السريعة"
      },
      dashboard: {
        title: "لوحة تحكم المدير",
        overview: "نظرة عامة",
        statistics: "الإحصائيات",
        recentActivity: "النشاط الأخير",
        quickActions: "الإجراءات السريعة"
      },
      users: {
        title: "إدارة المستخدمين",
        addUser: "إضافة مستخدم",
        editUser: "تعديل المستخدم",
        deleteUser: "حذف المستخدم",
        userList: "قائمة المستخدمين",
        userDetails: "تفاصيل المستخدم",
        firstName: "الاسم الأول",
        lastName: "الاسم الأخير",
        username: "اسم المستخدم",
        role: "الدور",
        department: "القسم",
        organization: "المؤسسة",
        totalUsers: "إجمالي المستخدمين",
        activeUsers: "المستخدمون النشطون"
      },
      groups: {
        title: "إدارة المجموعات",
        addGroup: "إضافة مجموعة",
        editGroup: "تعديل المجموعة",
        deleteGroup: "حذف المجموعة",
        groupList: "قائمة المجموعات",
        groupDetails: "تفاصيل المجموعة",
        groupName: "اسم المجموعة",
        members: "الأعضاء",
        leader: "القائد",
        totalGroups: "إجمالي المجموعات"
      },
      leaderboards: {
        title: "إدارة قوائم المتصدرين",
        userLeaderboard: "قائمة المستخدمين المتصدرين",
        groupLeaderboard: "قائمة المجموعات المتصدرة",
        filterByCategory: "تصفية حسب الفئة",
        allCategories: "جميع الفئات",
        category: "الفئة",
        position: "المركز",
        participant: "المشارك",
        score: "النتيجة",
        scores: "نقاط",
        members: "أعضاء",
        noData: "لا توجد بيانات متاحة للقائمة",
        loading: "جاري تحميل قائمة المتصدرين...",
        noUsersFound: "لا يوجد مستخدمون",
        noGroupsFound: "لا توجد مجموعات",
        topUsersRanked: "أفضل المستخدمين مرتبين حسب النقاط الإجمالية",
        topGroupsRanked: "أفضل المجموعات مرتبة حسب النقاط الإجمالية",
        acrossAllCategories: "عبر جميع الفئات",
        inCategory: "في فئة"
      },
      auth: {
        login: "تسجيل الدخول",
        logout: "تسجيل الخروج",
        register: "التسجيل",
        forgotPassword: "نسيت كلمة المرور",
        resetPassword: "إعادة تعيين كلمة المرور",
        changePassword: "تغيير كلمة المرور",
        currentPassword: "كلمة المرور الحالية",
        newPassword: "كلمة المرور الجديدة",
        confirmPassword: "تأكيد كلمة المرور",
        rememberMe: "تذكرني",
        loginSuccess: "تم تسجيل الدخول بنجاح",
        loginError: "فشل في تسجيل الدخول",
        invalidCredentials: "بيانات الاعتماد غير صحيحة",
        required: "هذا الحقل مطلوب",
        password: "كلمة المرور",
        username: "اسم المستخدم",
        continue: "متابعة",
        back: "رجوع",
        signIn: "تسجيل الدخول",
        signingIn: "جاري تسجيل الدخول...",
        checkingOrganizations: "جاري فحص المؤسسات...",
        enterUsername: "أدخل اسم المستخدم للمتابعة",
        selectOrganization: "اختر مؤسستك",
        usernameOrEmail: "اسم المستخدم أو البريد الإلكتروني",
        enterUsernameOrEmail: "أدخل اسم المستخدم أو البريد الإلكتروني",
        enterPassword: "أدخل كلمة المرور"
      },
      organizations: {
        title: "إدارة الخدمات",
        createOrganization: "إنشاء خدمة",
        joinOrganization: "الانضمام إلى خدمة",
        organizationName: "اسم الخدمة",
        description: "الوصف",
        creating: "جاري الإنشاء...",
        submitting: "جاري الإرسال...",
        submitJoinRequest: "إرسال طلب الانضمام",
        requestedRole: "الدور المطلوب",
        message: "الرسالة",
        optionalMessage: "رسالة (اختيارية)",
        whyJoinQuestion: "لماذا تريد الانضمام؟",
        availableOrganizations: "الخدمات المتاحة",
        members: "أعضاء",
        member: "عضو",
        pending: "في الانتظار",
        requestJoin: "طلب الانضمام",
        joinRequestSubmitted: "تم إرسال طلب الانضمام بنجاح!",
        failedToCreateOrg: "فشل في إنشاء الخدمة",
        failedToSubmitRequest: "فشل في إرسال طلب الانضمام",
        failedToFetchOrgs: "فشل في جلب الخدمات",
        noAdminPrivileges: "لم يتم العثور على امتيازات إدارية لاسم المستخدم هذا. يجب أن تكون مديراً للخدمة للوصول إلى هذه اللوحة.",
        youAreAdminOf: "أنت مدير",
        organization: "خدمة",
        organizations: "خدمات",
        pleaseSelectManage: "يرجى اختيار الخدمة التي تريد إدارتها:",
        selectRole: "اختر الدور",
        selectOrganization: "اختر الخدمة",
        backToUsername: "العودة إلى اسم المستخدم",
        user: "مستخدم",
        admin: "مدير"
      },
      superAdmin: {
        title: "لوحة تحكم المدير العام",
        totalUsers: "إجمالي المستخدمين",
        totalOrganizations: "إجمالي الخدمات",
        activeOrganizations: "الخدمات النشطة",
        pendingRequests: "الطلبات في الانتظار",
        dashboard: "لوحة التحكم",
        organizations: "الخدماات",
        requests: "الطلبات",
        users: "المستخدمون",
        createOrganization: "إنشاء خدمة",
        viewDetails: "عرض التفاصيل",
        approve: "موافقة",
        reject: "رفض",
        toggleStatus: "تبديل الحالة",
        viewUser: "عرض المستخدم",
        deleteUser: "حذف المستخدم",
        confirmDelete: "هل أنت متأكد من أنك تريد حذف هذا المستخدم؟",
        userDeleted: "تم حذف المستخدم بنجاح",
        failedToDeleteUser: "فشل في حذف المستخدم",
        failedToLoadDashboard: "فشل في تحميل بيانات لوحة التحكم",
        failedToLoadRequests: "فشل في تحميل الطلبات المعلقة",
        failedToLoadUsers: "فشل في تحميل المستخدمين",
        failedToApproveRequest: "فشل في الموافقة على الطلب",
        failedToRejectRequest: "فشل في رفض الطلب",
        failedToCreateOrg: "فشل في إنشاء الخدمة",
        failedToUpdateStatus: "فشل في تحديث حالة الخدمة",
        adminUsername: "اسم المستخدم للمدير",
        adminEmail: "البريد الإلكتروني للمدير",
        adminPassword: "كلمة مرور المدير",
        adminFirstName: "الاسم الأول للمدير",
        adminLastName: "الاسم الأخير للمدير",
        close: "إغلاق"
      },
      scoring: {
        title: "النقاط",
        assignScore: "تعيين نقاط",
        assignScoreTo: "تعيين نقاط لـ",
        assignScoresToUsers: "تعيين نقاط للمستخدمين أو المجموعات",
        scanUserFirst: "امسح مستخدماً أولاً لتعيين النقاط",
        failedToAssignScore: "فشل في تعيين النقاط",
        reason: "السبب",
        category: "الفئة",
        points: "النقاط",
        score: "النتيجة",
        scoreCategory: "فئة النقاط",
        selectCategory: "اختر الفئة"
      }
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    fallbackLng: 'en',
    debug: false,
    
    interpolation: {
      escapeValue: false,
    },
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      lookupLocalStorage: 'i18nextLng',
      caches: ['localStorage'],
    },
    
    react: {
      useSuspense: false,
    },
    
    resources,
  });

export default i18n;